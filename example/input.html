<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nue</title>
	<script type="module">
		import * as nue from "../src/nue.js"

		class Input extends nue.Tag {
			constructor () {
				super('input')
			}

			onKeyup (ev, value) {
				console.log(ev, value)
				this.emit('keyupped', value)
			}
		}

		class Root extends nue.Root {
			constructor () {
				super()
				this.row = new nue.Tag('div', {
					class: 'row',
				})
				this.add(this.row)
				
				this.label = new nue.Tag('label')
				this.label.setText('入力: ')
				this.row.add(this.label)

				this.input = new Input()
				this.row.add(this.input)	
			}

			receive (name, value) {
				switch (name) {
				case 'keyupped':
					console.log('keyupped', value)
					break
				}
			}	
		}

		document.addEventListener('DOMContentLoaded', () => {
			let root = new Root()
			root.mount('#app')
		})
	</script>
</head>
<body>
	<div id="app"></div>
</body>
</html>
