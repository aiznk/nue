<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../nue.css">
	<title>Table</title>
	<style>
		* {
			box-sizing: border-box;
		}
		body {
			margin: 0;
			padding: 1rem;
		}
		.root,
		#app,
		body,
		html {
			width: 100%;
			height: 100%;
		}
	</style>
	<script type="module">
		import * as nue from "../nue.js"

		class Root extends nue.Root {
			constructor () {
				super('div', { class: 'root' })
				
				this.table = new nue.HonestTable()
				this.add(this.table)

				for (let y = 0; y < 16; y++) {
					let row = new nue.HonestTableRow()
					for (let x = 0; x < 16; x++) {
						let cell = new nue.HonestTableCell()
						cell.setText(`${x}:${y}`)
						row.add(cell)
					}
					this.table.addRow(row)
				}

				this.status = new nue.P()
				this.add(this.status)
			}

			async receive (name, ev) {
				console.log(name)
				switch (name) {
				case 'honestTableCellSetValue':
					this.status.setText(`Edited: ${ev}`)
					break
				}
			}
		}

		document.addEventListener('DOMContentLoaded', () => {
			let root = new Root()
			root.mount('#app')
		})
	</script>
</head>
<body>
	<div id="app"></div>
</body>
</html>